/*

The Android plugin can help reduce the size of your app by stripping out
unused code and resources. It does this with the help of a tool called
Proguard.

Proguard can do a lot of interesting stuff, including obfuscating your code by
giving all your classes and methods meaningless names. That's mostly of
interest if you're really worried about your code being reverse engineered.
For our purposes, however, the properties we want to configure on our build
type are minifyEnabled and shrinkResources.

In this project, we've declared a dependency on Google Play Services, but
we're not actually using any classes from GPS. Proguard is smart enough to
figure that out, and will strip out the unused code from our APK. GPS also
includes many resources like drawables for sign in buttons. Turning on
shrinkResources will trip out any unused resources.

Below we've configured two new build types, one of which has turned on
minificiation and resource shrinking, and one of which has not. Let's check
out the relative sizes of the APKs generated by each build type. Let's run the
`assemble` task to generate both APKs.

Now if we navigate to app/build/outputs/apk, we find that app-big-unsigned.apk
is 2.8 MB, and app-shrunk-unsigned.apk is only 1.2 MB.

There's a lot more you can do to optimize your APK using Proguard. The
following resources are a good place to start.

http://proguard.sourceforge.net/
http://developer.android.com/tools/help/proguard.html
http://tools.android.com/tech-docs/new-build-system/resource-shrinking

*/

apply plugin: 'com.android.application'

android {
    compileSdkVersion 24
    buildToolsVersion "24.0.1"

    defaultConfig {
        applicationId "com.udacity.gradle.proguard"
        minSdkVersion 15
        targetSdkVersion 24
        versionCode 1
        versionName "1.0"
        multiDexEnabled = true
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
        shrunk {
            minifyEnabled true
            shrinkResources true
        }
        big {
            minifyEnabled false
            shrinkResources false
        }
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:24.1.1'
    compile 'com.google.android.gms:play-services:9.4.0'
}
